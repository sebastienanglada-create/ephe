<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Éphémérides Bergerac</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body.page-neon { background:#181820; color:#fff; font-family: system-ui, -apple-system, sans-serif; }
    .card-neon {
      border-radius:1.5rem;
      box-shadow:0 0 24px #ffe06633,0 0 2px #ffe066;
      background: linear-gradient(140deg,#282844 80%,#ffe06633 100%);
      padding:1rem 1.25rem;
      margin-bottom:.5rem;
    }
    .neon-section { border-radius:2rem;box-shadow:0 2px 24px #ffe06633; background:#232336;padding:1rem;}
    .section-title-yellow {color:#ffe066;letter-spacing:0.05em;}
    .neon-btn {
      border-radius:1.2em;
      padding:.4em 1.2em;
      border:none;
      background:#ffe066;
      color:#232336;
      font-weight:bold;
      box-shadow:0 0 10px #ffe06699;
      transition:all .2s;
      margin-top:.15em;
      cursor:pointer;
      font-size:1em;
      text-decoration:none;
      display:inline-block;
    }
    .neon-btn:hover { background:#ffef96; color:#232336; transform:scale(1.05);}
    .neon-btn.active { background:#fff; color:#232336; }
    @media (max-width:600px){ .card-neon,.neon-section {border-radius:.9em;} }
  </style>
</head>
<body class="page-neon text-white p-4">

  <div class="card-neon mb-8 mx-auto max-w-xl text-center">
    <h2 class="text-2xl md:text-3xl font-extrabold section-title-yellow mb-2">Bienvenue</h2>
    <div class="text-lg md:text-xl font-medium tracking-wide" style="letter-spacing:0.06em;">2 rue Georges Bizet</div>
  </div>

  <div class="max-w-4xl mx-auto">
    <main class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div class="space-y-8">
        <section class="neon-section p-6 text-center">
          <h2 class="text-2xl font-extrabold mb-6 section-title-yellow">Calendrier</h2>
          <div class="flex flex-col gap-6 items-center justify-center">
            <div class="card-neon flex flex-col items-center text-center">
              <div class="text-4xl mb-2">📆</div>
              <div id="day-of-week" class="font-bold text-lg">Dimanche</div>
              <div id="date-number" class="text-3xl font-extrabold">5</div>
              <div id="month-year" class="text-base font-medium">Octobre 2025</div>
            </div>
            <div class="card-neon flex flex-col items-center text-center">
              <div class="text-4xl mb-2">🔢</div>
              <div class="text-base font-semibold mb-1">Semaine</div>
              <div id="cal-semaine" class="text-2xl font-bold">40</div>
            </div>
            <div class="card-neon flex flex-col items-center text-center">
              <div class="text-3xl mb-2">📈</div>
              <div class="text-base font-semibold mb-1">Année</div>
              <div id="cal-days-passes" class="text-base">279 jours passés</div>
              <div id="cal-days-restants" class="text-base">86 jours restants</div>
            </div>
          </div>
        </section>
        <section class="neon-section p-4 text-center">
          <h2 class="text-xl font-bold mb-2 section-title-yellow">Citation du jour</h2>
          <div class="card-neon p-3 flex flex-col items-center text-center">
            <span id="citation-jour" class="italic text-lg">"La simplicité est la sophistication suprême." - Leonardo da Vinci</span>
          </div>
        </section>
        <section class="neon-section p-4 text-center">
          <h2 class="text-xl font-bold mb-2 section-title-yellow">Soleil & Lune</h2>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="card-neon flex flex-col items-center justify-center text-center">
              <div class="text-4xl mb-2">🌙</div>
              <div id="moon-phase-icon" class="text-3xl mb-2">🌓</div>
              <div id="moon-phase-name" class="mb-1">Premier quartier</div>
              <div class="text-xs mt-1">Phase</div>
            </div>
            <div class="card-neon flex flex-col items-center justify-center text-center">
              <div class="text-4xl mb-2">🌅</div>
              <div id="sunrise-time" class="text-xl mb-1">08:12</div>
              <div class="text-xs mt-1">Lever</div>
            </div>
            <div class="card-neon flex flex-col items-center justify-center text-center">
              <div class="text-4xl mb-2">🌇</div>
              <div id="sunset-time" class="text-xl mb-1">19:42</div>
              <div class="text-xs mt-1">Coucher</div>
            </div>
          </div>
          <div id="sun-moon-update" class="pt-2 text-right text-xs">Dernière maj : 19:15</div>
        </section>
      </div>
      <div class="space-y-8">
        <section class="neon-section p-4 text-center">
          <h2 class="text-xl font-bold mb-2 section-title-yellow">Météo Bergerac</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="card-neon p-3 flex flex-col items-center text-center">
              <div class="font-bold mb-1">Aujourd'hui</div>
              <div id="meteo-today">
                <div class="text-3xl mb-1">☀️</div>
                <div class="text-lg font-bold">18°C</div>
                <div class="text-sm">Ensoleillé</div>
              </div>
            </div>
            <div class="card-neon p-3 flex flex-col items-center text-center">
              <div class="font-bold mb-1">Demain</div>
              <div id="meteo-tomorrow">
                <div class="text-3xl mb-1">⛅</div>
                <div class="text-lg font-bold">16°C</div>
                <div class="text-sm">Nuageux</div>
              </div>
            </div>
          </div>
          <div id="meteo-update" class="pt-2 text-right text-xs">Dernière maj : 19:00</div>
        </section>
        <section class="neon-section p-4 text-center">
          <h2 class="text-xl font-bold mb-2 section-title-yellow">Prochain férié</h2>
          <div class="card-neon flex flex-col items-center text-center">
            <div class="text-3xl">🎉</div>
            <div id="ferie-nom" class="font-bold text-lg">Toussaint</div>
            <div id="ferie-date" class="font-medium mt-1">1er novembre 2025</div>
            <div id="ferie-temps-restant" class="mt-1">Dans 27 jours</div>
          </div>
        </section>
        <section class="neon-section p-4 text-center">
          <h2 class="text-xl font-bold mb-2 section-title-yellow">Vacances scolaires</h2>
          <div id="zone-btns" class="flex gap-2 justify-center my-2">
            <button class="neon-btn" data-zone="A">Zone A</button>
            <button class="neon-btn active" data-zone="B">Zone B</button>
            <button class="neon-btn" data-zone="C">Zone C</button>
          </div>
          <div id="vacances-list" class="grid grid-cols-1 gap-2">
            <div class="card-neon text-sm p-2">
              <div class="font-semibold">Vacances de la Toussaint</div>
              <div>Du 19 octobre au 4 novembre 2025</div>
            </div>
            <div class="card-neon text-sm p-2">
              <div class="font-semibold">Vacances de Noël</div>
              <div>Du 21 décembre 2025 au 6 janvier 2026</div>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Module Liste de courses Google Sheet collaborative -->
    <section class="neon-section p-4 text-center mb-8">
      <h2 class="text-xl font-bold mb-2 section-title-yellow">Liste de courses collaborative</h2>
      <div class="card-neon flex flex-col items-center text-center py-4">
        <p class="mb-3">Ajoutez, modifiez et suivez la liste en direct :</p>
        <a href="https://docs.google.com/spreadsheets/d/15gCel9KD4MGUF-QVLI4IYZA-xMikhdSHGPKh2iCLCTM/edit?usp=sharing"
          class="neon-btn mt-3 mb-4" target="_blank">
          🛒 Modifier la liste
        </a>
        <div class="w-full flex justify-center mt-4">
          <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQ6NtAEVEZe2gINyb02H4MjD8uG_yPsIEn3pz-DtE_sKtWWcNAZrNiXrJdYTl_e8Ee6v4aRKygdua6_/pubhtml?gid=0&amp;single=true&amp;widget=true&amp;headers=false"
            style="width:100%;max-width:500px;height:340px;border:0;border-radius:1.5rem;box-shadow:0 0 15px #ffe06650;display:block;margin:0 auto;"></iframe>
        </div>
        <small class="text-white/60 mt-2">Aperçu de la liste • Pour modifier, cliquer sur le bouton</small>
      </div>
    </section>

    <!-- Module Numéros utiles cliquables -->
    <section class="neon-section p-4 text-center mb-8">
      <h2 class="text-xl font-bold mb-2 section-title-yellow">Numéros utiles</h2>
      <div class="card-neon flex flex-col gap-3 items-center text-center py-6">
        <div>
          <span class="font-semibold">Pharmacie de la Moulette</span><br>
          <a href="tel:0553572906" class="text-white/80 hover:text-yellow-300 font-mono underline underline-offset-2 transition">05 53 57 29 06</a>
        </div>
        <div>
          <span class="font-semibold">Clinique Vétérinaire Aliénor</span><br>
          <a href="tel:0553740484" class="text-white/80 hover:text-yellow-300 font-mono underline underline-offset-2 transition">05 53 74 04 84</a>
        </div>
        <div>
          <span class="font-semibold">Pizzeria "C'est qui le paton&nbsp;?"</span><br>
          <a href="tel:0553573561" class="text-white/80 hover:text-yellow-300 font-mono underline underline-offset-2 transition">05 53 57 35 61</a>
        </div>
      </div>
    </section>

    <footer class="mt-8 text-center text-xs text-white">
      Éphémérides Bergerac &mdash; Données : Open-Meteo, Calendriers officiels, etc.
    </footer>
  </div>

  <script>
    // Gestion des boutons zones vacances
    document.querySelectorAll('[data-zone]').forEach(btn => {
      btn.onclick = function() {
        document.querySelectorAll('[data-zone]').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        // Ici tu peux ajouter la logique pour changer les vacances affichées
      };
    });

    // Mise à jour automatique de la date/heure
    function updateDateTime() {
      const now = new Date();
      const days = ['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi'];
      const months = ['Janvier','Février','Mars','Avril','Mai','Juin','Juillet','Août','Septembre','Octobre','Novembre','Décembre'];
      
      document.getElementById('day-of-week').textContent = days[now.getDay()];
      document.getElementById('date-number').textContent = now.getDate();
      document.getElementById('month-year').textContent = months[now.getMonth()] + ' ' + now.getFullYear();
      
      // Calcul semaine de l'année
      const start = new Date(now.getFullYear(), 0, 1);
      const diff = now - start;
      const weekNumber = Math.ceil(diff / (1000 * 60 * 60 * 24 * 7));
      document.getElementById('cal-semaine').textContent = weekNumber;
      
      // Calcul jours passés/restants
      const daysPassed = Math.floor(diff / (1000 * 60 * 60 * 24));
      const daysRemaining = 365 - daysPassed;
      document.getElementById('cal-days-passes').textContent = daysPassed + ' jours passés';
      document.getElementById('cal-days-restants').textContent = daysRemaining + ' jours restants';
    }

    // Initialisation
    window.onload = function() {
      updateDateTime();
      // Mise à jour toutes les heures
      setInterval(updateDateTime, 3600000);
    };
  </script>
</body>
</html>
